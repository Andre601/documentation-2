<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="icon"
			type="image/png"
			href="../../../assets/images/favicon@32.png"
			sizes="32x32"
		/>
		<link
			rel="icon"
			type="image/png"
			href="../../../assets/images/favicon@192.png"
			sizes="192x192"
		/>

		<link
			rel="stylesheet"
			type="text/css"
			href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400&display=swap"
		/>
		<link
			rel="stylesheet"
			type="text/css"
			href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap"
		/>
		<link rel="stylesheet" href="../../../assets/style.css?6674" />
		<title>Iconify API Configuration: Node.js</title>
		
	</head>
	<body class="website-docs theme-develop">
		<nav class="navigation navigation--primary" role="navigation">
			<div class="navigation-content page-width">
				<div class="navigation-home">
					<a href="https://iconify.design/">
						<span>Iconify.design</span>
						<span
							class="iconify"
							data-width="164"
							data-height="40"
							data-icon="assets:logo-iconify"
						></span>
					</a>
				</div>

				<div class="navigation-block-container">
					<ul class="navigation-block">
						<li class="navigation-link">
							<a href="../../../" title="Iconify Documentation">Documentation</a>
						</li>
						<li class="navigation-link">
							<a
								href="https://github.com/iconify"
								title="Repositories for Iconify script, icons and tools"
								target="_blank"
								>GitHub</a
							>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<nav class="navigation navigation--secondary" role="navigation">
			<div class="navigation-content page-width">
				<div class="navigation-description">
					Thousands of icons, one unified framework.
				</div>

				<div class="navigation-block-container">
					<ul class="navigation-block">
						<li class="navigation-link">
							<a
								href="https://iconify.design/icon-sets/"
								title="Browse all icon sets"
								>Browse Icons</a
							>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div id="content">
			<div class="page-width page-content docs-container">
				<article class="docs">
					<h1>Iconify API configuration</h1>
<p>This tutorial is a part of <a href="./">Iconify API installation instructions</a> for Node.js. This part of tutorial explains API configuration options.</p>
<p>Configuration is stored in file <span class="hljs-inline-file">config.json</span>. It is used only for customized values, so you do not need to store entire configuration.</p>
<p>Default configuration is stored in <span class="hljs-inline-file">config-default.json</span>.</p>
<p>If your API is already running, after changing configuration you must restart API. Configuration in Node.js version of API cannot be reloaded without downtime.</p>
<section class="content-section content-section--2"><H1 id="main-options" class="heading--2 heading--empty">Main options <a href="#main-options" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><section class="content-section content-section--3"><H1 id="port" class="heading--3">port <a href="#port" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>By default, script runs on port <span class="hljs-number">3000</span>. You might need to change it. There are 2 ways to change port:</p><ul>
<li>Set environment variable &quot;<span class="hljs-string">PORT</span>&quot; (does not work if you have disabled <span class="hljs-inline-prop">env-port</span> in configuration).</li>
<li>Change <span class="hljs-inline-prop">port</span> value in <span class="hljs-inline-file">config.json</span>.</li>
</ul><p>You can use environment variable in command line when starting API:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="UE9SVD0zMDAwIG5wbSBzdGFydAo="><code class="highlight hljs">PORT=3000 npm start<br>
</code></div></div></div><p>To change port in configuration, add <span class="hljs-inline-prop">port</span> property:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="ewoJInBvcnQiOiAzMDAwCn0K"><code class="highlight hljs">{<br>
 &#xA0; &#xA0;<span class="hljs-attr">&quot;port&quot;</span>: <span class="hljs-number">3000</span><br>
}<br>
</code></div></div></div></section><section class="content-section content-section--3"><H1 id="env-port" class="heading--3">env-port <a href="#env-port" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>If you set value to <span class="hljs-literal">false</span>, environment variable &quot;<span class="hljs-string">PORT</span>&quot; will be ignored. Then port can only be changed by changing <span class="hljs-inline-prop">port</span> in configuration.</p></section><section class="content-section content-section--3"><H1 id="region-and-env-region" class="heading--3">region and env-region <a href="#region-and-env-region" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>Region is used as server identification. If you are running multiple Iconify API instances, by setting different <span class="hljs-inline-prop">region</span> values you can check which server you are connected to.</p><p>How to check region? Open <span class="hljs-inline-link">/version</span> end point in browser: <span class="hljs-inline-link">https://api.iconify.design/version</span>. That page will show you API version, language (Node or PHP) and region.</p><p>Additionally, region can be set using environment variable &quot;<span class="hljs-string">region</span>&quot;.</p></section><section class="content-section content-section--3"><H1 id="custom-icons-dir" class="heading--3">custom-icons-dir <a href="#custom-icons-dir" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>Directory where custom icon sets are stored.</p><p>Icon sets must be stored in <a href="../../../types/iconify-json.html">Iconify JSON format</a>.</p><p>Filename must match prefix, for example <span class="hljs-inline-icon">awesome-icons:home</span> should be stored in <span class="hljs-inline-file">awesome-icons.json</span>.</p><p>Default directory name is &quot;<span class="hljs-string">{dir}/json</span>&quot;, where &quot;<span class="hljs-string">{dir}</span>&quot; is replaced by API root directory.</p></section><section class="content-section content-section--3"><H1 id="serve-default-icons" class="heading--3">serve-default-icons <a href="#serve-default-icons" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>If disabled, API will not load the default Iconify icon sets.</p></section><section class="content-section content-section--3"><H1 id="index-page" class="heading--3">index-page <a href="#index-page" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>URL to redirect browser to when browsing <span class="hljs-inline-link">/</span>. Redirection is permanent.</p></section></section>




















<section class="content-section content-section--2"><H1 id="browser-cache" class="heading--2">Browser cache <a href="#browser-cache" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>Cache configuration is stored in <span class="hljs-inline-prop">cache</span> object.</p><p>Object properties:</p><ul>
<li><span class="hljs-inline-prop">timeout</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. Cache timeout in seconds.</li>
<li><span class="hljs-inline-prop">min-refresh</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. Minimum page refresh timeout. Usually the same as <span class="hljs-inline-prop">timeout</span> value.</li>
<li><span class="hljs-inline-prop">private</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">boolean</span></span>. Set to <span class="hljs-literal">true</span> if page cache should be treated as private.</li>
</ul><p>Example:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="ewoJImNhY2hlIjogewoJCSJ0aW1lb3V0IjogNjA0ODAwLAoJCSJtaW4tcmVmcmVzaCI6IDYwNDgwMCwKCQkicHJpdmF0ZSI6IGZhbHNlCgl9Cn0K"><code class="highlight hljs">{<br>
 &#xA0; &#xA0;<span class="hljs-attr">&quot;cache&quot;</span>: {<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;timeout&quot;</span>: <span class="hljs-number">604800</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;min-refresh&quot;</span>: <span class="hljs-number">604800</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;private&quot;</span>: <span class="hljs-literal">false</span><br>
 &#xA0; &#xA0;}<br>
}<br>
</code></div></div></div></section>




<section class="content-section content-section--2"><H1 id="cors" class="heading--2">CORS headers <a href="#cors" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>CORS stands for Cross-Origin Resource Sharing. API needs to send CORS headers to allow other websites read API responses.</p><p>Without CORS headers modern browsers will ignore API response.</p><p>CORS configuration is stored in <span class="hljs-inline-prop">cors</span> object.</p><p>Object properties:</p><ul>
<li><span class="hljs-inline-prop">origins</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Allowed origins. Used as value for &quot;<span class="hljs-string">Access-Control-Allow-Origin</span>&quot; header.</li>
<li><span class="hljs-inline-prop">methods</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Allowed methods. Used as value for &quot;<span class="hljs-string">Access-Control-Allow-Methods</span>&quot; header.</li>
<li><span class="hljs-inline-prop">headers</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Allowed headers. Used as value for &quot;<span class="hljs-string">Access-Control-Allow-Headers</span>&quot; header.</li>
<li><span class="hljs-inline-prop">timeout</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. Cache time in seconds.</li>
</ul><p>Example:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="ewoJImNvcnMiOiB7CgkJIm9yaWdpbnMiOiAiKiIsCgkJInRpbWVvdXQiOiA4NjQwMCwKCQkibWV0aG9kcyI6ICJHRVQsIE9QVElPTlMiLAoJCSJoZWFkZXJzIjogIk9yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQsIEFjY2VwdC1FbmNvZGluZyIKCX0KfQo="><code class="highlight hljs">{<br>
 &#xA0; &#xA0;<span class="hljs-attr">&quot;cors&quot;</span>: {<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;origins&quot;</span>: <span class="hljs-string">&quot;*&quot;</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;timeout&quot;</span>: <span class="hljs-number">86400</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;methods&quot;</span>: <span class="hljs-string">&quot;GET, OPTIONS&quot;</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;headers&quot;</span>: <span class="hljs-string">&quot;Origin, X-Requested-With, Content-Type, Accept, Accept-Encoding&quot;</span><br>
 &#xA0; &#xA0;}<br>
}<br>
</code></div></div></div><section class="content-section content-section--3"><H1 id="disabling-cors" class="heading--3">Disabling CORS <a href="#disabling-cors" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>CORS headers cannot be sent twice. If you are using <a href="./reverse-proxy.html">reverse proxy</a> that is configured to send CORS headers, you need to disable CORS headers in Node.js app to avoid sending duplicate headers.</p><p>To disable CORS headers set <span class="hljs-inline-prop">cors</span> value to <span class="hljs-literal">false</span>:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="ewoJImNvcnMiOiBmYWxzZQp9Cg=="><code class="highlight hljs">{<br>
 &#xA0; &#xA0;<span class="hljs-attr">&quot;cors&quot;</span>: <span class="hljs-literal">false</span><br>
}<br>
</code></div></div></div></section><section class="content-section content-section--3"><H1 id="cors-apache" class="heading--3">Configuring CORS in Apache <a href="#cors-apache" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>If you are using Apache as reverse proxy, you can disable CORS in API and enable it in Apache.</p><p>To enable CORS in Apache, add this to Apache configuration:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="SGVhZGVyIGFsd2F5cyBzZXQgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luICIqIgpIZWFkZXIgYWx3YXlzIHNldCBBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzICJHRVQsIE9QVElPTlMiCkhlYWRlciBhbHdheXMgc2V0IEFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMgIk9yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQsIEFjY2VwdC1FbmNvZGluZyIKSGVhZGVyIGFsd2F5cyBzZXQgQWNjZXNzLUNvbnRyb2wtTWF4LUFnZSAiODY0MDAiCg=="><code class="highlight hljs"><span class="hljs-attribute"><span class="hljs-nomarkup">Header</span></span> always set Access-Control-<span class="hljs-literal">Allow</span>-Origin <span class="hljs-string">&quot;*&quot;</span><br>
<span class="hljs-attribute"><span class="hljs-nomarkup">Header</span></span> always set Access-Control-<span class="hljs-literal">Allow</span>-Methods <span class="hljs-string">&quot;GET, OPTIONS&quot;</span><br>
<span class="hljs-attribute"><span class="hljs-nomarkup">Header</span></span> always set Access-Control-<span class="hljs-literal">Allow</span>-Headers <span class="hljs-string">&quot;Origin, X-Requested-With, Content-Type, Accept, Accept-Encoding&quot;</span><br>
<span class="hljs-attribute"><span class="hljs-nomarkup">Header</span></span> always set Access-Control-Max-Age <span class="hljs-string">&quot;86400&quot;</span><br>
</code></div></div></div></section><section class="content-section content-section--3"><H1 id="cors-nginx" class="heading--3">Configuring CORS in NGINX <a href="#cors-nginx" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>If you are using NGINX as reverse proxy, you can disable CORS in API and enable it in NGINX.</p><p>To enable CORS in NGINX, add this to NGINX configuration under <span class="hljs-inline-prop">http</span> -&gt; <span class="hljs-inline-prop">server</span> -&gt; <span class="hljs-inline-prop">location</span>:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="aWYgKCRyZXF1ZXN0X21ldGhvZCA9ICdQT1NUJykgewogICBhZGRfaGVhZGVyICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nICcqJzsKICAgYWRkX2hlYWRlciAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycgJ0dFVCwgUE9TVCwgT1BUSU9OUyc7CiAgIGFkZF9oZWFkZXIgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnICdETlQsVXNlci1BZ2VudCxYLVJlcXVlc3RlZC1XaXRoLElmLU1vZGlmaWVkLVNpbmNlLENhY2hlLUNvbnRyb2wsQ29udGVudC1UeXBlLFJhbmdlJzsKICAgYWRkX2hlYWRlciAnQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnMnICdDb250ZW50LUxlbmd0aCxDb250ZW50LVJhbmdlJzsKfQppZiAoJHJlcXVlc3RfbWV0aG9kID0gJ0dFVCcpIHsKICAgYWRkX2hlYWRlciAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJyAnKic7CiAgIGFkZF9oZWFkZXIgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnICdHRVQsIFBPU1QsIE9QVElPTlMnOwogICBhZGRfaGVhZGVyICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJyAnRE5ULFVzZXItQWdlbnQsWC1SZXF1ZXN0ZWQtV2l0aCxJZi1Nb2RpZmllZC1TaW5jZSxDYWNoZS1Db250cm9sLENvbnRlbnQtVHlwZSxSYW5nZSc7CiAgIGFkZF9oZWFkZXIgJ0FjY2Vzcy1Db250cm9sLUV4cG9zZS1IZWFkZXJzJyAnQ29udGVudC1MZW5ndGgsQ29udGVudC1SYW5nZSc7Cn0KCg=="><code class="highlight hljs"><span class="hljs-attribute">if</span> ($request_method = <span class="hljs-string">&apos;POST&apos;</span>) {<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Allow-Origin&apos;</span> <span class="hljs-string">&apos;*&apos;</span>;<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Allow-Methods&apos;</span> <span class="hljs-string">&apos;GET, POST, OPTIONS&apos;</span>;<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Allow-Headers&apos;</span> <span class="hljs-string">&apos;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&apos;</span>;<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Expose-Headers&apos;</span> <span class="hljs-string">&apos;Content-Length,Content-Range&apos;</span>;<br>
}<br>
<span class="hljs-attribute">if</span> ($request_method = <span class="hljs-string">&apos;GET&apos;</span>) {<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Allow-Origin&apos;</span> <span class="hljs-string">&apos;*&apos;</span>;<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Allow-Methods&apos;</span> <span class="hljs-string">&apos;GET, POST, OPTIONS&apos;</span>;<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Allow-Headers&apos;</span> <span class="hljs-string">&apos;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&apos;</span>;<br>
 &#xA0; <span class="hljs-attribute">add_header</span> <span class="hljs-string">&apos;Access-Control-Expose-Headers&apos;</span> <span class="hljs-string">&apos;Content-Length,Content-Range&apos;</span>;<br>
}<br>
<br>
</code></div></div></div></section></section>















<section class="content-section content-section--2"><H1 id="sync" class="heading--2">Synchronizing icon sets with Git <a href="#sync" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>In addition to reloading all collections without restarting server, API can pull collections from Git service and reload collections without restarting. This can be used to push collections to server whenever it is updated without downtime.</p><p>There are two collections available: &quot;<span class="hljs-string">iconify</span>&quot; and &quot;<span class="hljs-string">custom</span>&quot;.</p><p>All configuration options are in <span class="hljs-inline-prop">sync</span> object. Use &quot;<span class="hljs-string">{dir}</span>&quot; variable in directories to point to API application root directory.</p><p>To synchronize repository send GET request to <span class="hljs-inline-link">/sync?repo=iconify&amp;key=your-sync-key</span> Replace <span class="hljs-inline-prop">repo</span> with &quot;<span class="hljs-string">custom</span>&quot; to synchronize custom repository and <span class="hljs-inline-prop">key</span> with value of <span class="hljs-inline-prop">sync.secret</span>.</p><p>Server will respond identically with &quot;<span class="hljs-string">ok</span>&quot; message regardless of status to prevent visitors from trying to guess your secret key. You can only tell if request worked by looking at logs.</p><p>Sync function is meant to be used with GitHub web hooks function. To avoid synchronizing icon sets too often, synchronization is delayed by <span class="hljs-number">60</span> seconds (configure <span class="hljs-inline-prop">sync.sync-delay</span> option to change it). This way when there are multiple commits submitted within a minute, synchronization is done only once 60 seconds after the first commit.</p><p>Sync object properties:</p><ul>
<li><span class="hljs-inline-prop">secret</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Secret key. This is a required option.</li>
<li><span class="hljs-inline-prop">sync-on-startup</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. See below.</li>
<li><span class="hljs-inline-prop">sync-delay</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. Delay for synchronization, in seconds. See documentation above.</li>
<li><span class="hljs-inline-prop">repeated-sync-delay</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. If synchronization request was sent while synchronization is already in progress, this is amount of time application will wait until initializing next synchronization. Value is in seconds.</li>
<li><span class="hljs-inline-prop">versions</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Location of <span class="hljs-inline-file">versions.json</span> file that stores information about the latest synchronized repositories.</li>
<li><span class="hljs-inline-prop">storage</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Location of directory where repositories will be stored.</li>
<li><span class="hljs-inline-prop">git</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Git command. You can change it if you need to customize command that is executed to clone repository. &quot;<span class="hljs-string">{repo}</span>&quot; will be replaced with repository URL, &quot;<span class="hljs-string">{target}</span>&quot; will be replaced with target directory.</li>
<li><span class="hljs-inline-prop">iconify</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. URL of Iconify repository.</li>
<li><span class="hljs-inline-prop">custom</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. URL of the custom repository.</li>
<li><span class="hljs-inline-prop">custom-dir</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Location of JSON files in custom repository, relative to root directory of repository.</li>
</ul><p>Never change <span class="hljs-inline-prop">sync</span> configuration in <span class="hljs-inline-file">config-default.json</span>! Change it only in <span class="hljs-inline-file">config.json</span>. Otherwise, it might be committed by mistake to a public repository, allowing everyone to see your secret words.</p><p>Example:</p><div class="code-blocks"><div class="code-block code-block--src"><div class="code-block-content code-block-content--without-title code-block-content--without-hint" data-raw-code="ewoJInN5bmMiOiB7CgkJInN5bmMtb24tc3RhcnR1cCI6ICJhbHdheXMiLAoJCSJjdXN0b20iOiAiaHR0cHM6Ly9naXRodWIuY29tL2N5YmVyYWxpZW4vYW5pbWF0ZWQtaWNvbnMuZ2l0IiwKCQkiY3VzdG9tLWRpciI6ICJmaW5hbCIsCgkJInNlY3JldCI6ICJ0ZXN0IiAvLyBEbyBub3Qgc3RvcmUgdGhpcyBpbiBjb25maWcuanNvbiAhISEKCX0KfQo="><code class="highlight hljs">{<br>
 &#xA0; &#xA0;<span class="hljs-attr">&quot;sync&quot;</span>: {<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;sync-on-startup&quot;</span>: <span class="hljs-string">&quot;always&quot;</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;custom&quot;</span>: <span class="hljs-string">&quot;https://github.com/cyberalien/animated-icons.git&quot;</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;custom-dir&quot;</span>: <span class="hljs-string">&quot;final&quot;</span>,<br>
 &#xA0; &#xA0; &#xA0; &#xA0;<span class="hljs-attr">&quot;secret&quot;</span>: <span class="hljs-string">&quot;test&quot;</span> <span class="hljs-comment">// Do not store this in config.json !!!</span><br>
 &#xA0; &#xA0;}<br>
}<br>
</code></div></div></div><section class="content-section content-section--3"><H1 id="custom-dir" class="heading--3">custom-dir <a href="#custom-dir" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>Property <span class="hljs-inline-prop">sync.custom-dir</span> points to the location of JSON files in custom repository, relative to root directory of repository.</p><p>For example, if JSON files are located in directory &quot;<span class="hljs-string">json</span>&quot; in your repository (like they are in Iconify repository), set <span class="hljs-inline-prop">sync.custom-dir</span> value to &quot;<span class="hljs-string">json</span>&quot;.</p></section><section class="content-section content-section--3"><H1 id="sync-on-startup" class="heading--3">sync-on-startup <a href="#sync-on-startup" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>This option automatically pulls the latest repositories when application is started.</p><p>Possible values:</p><ul>
<li>&quot;<span class="hljs-string">never</span>&quot;: disabled.</li>
<li>&quot;<span class="hljs-string">always</span>&quot;: always synchronize all available repositories.</li>
<li>&quot;<span class="hljs-string">missing</span>&quot;: synchronize only repositories that are missing.</li>
</ul><p>If enabled, synchronization on startup will start immediately. It is not affected by <span class="hljs-inline-prop">sync.sync-delay</span>.</p></section></section>


















<section class="content-section content-section--2"><H1 id="mail" class="heading--2">Logging errors <a href="#mail" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>Server can automatically email you if something happens, so you don&apos;t need to check logs.</p><p>Email configuration is in <span class="hljs-inline-prop">mail</span> object.</p><p>Object properties:</p><ul>
<li><span class="hljs-inline-prop">active</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">boolean</span></span>. Enables logging to email.</li>
<li><span class="hljs-inline-prop">throttle</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. Number of seconds to delay email sending. See below.</li>
<li><span class="hljs-inline-prop">repeat</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">number</span></span>. This option prevents script from sending similar errors too often. See below.</li>
<li><span class="hljs-inline-prop">from</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Sender email address. Set this to valid email address.</li>
<li><span class="hljs-inline-prop">to</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Receiver email address. Set this to valid email address.</li>
<li><span class="hljs-inline-prop">subject</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">string</span></span>. Subject of emails. All emails will have the same subject.</li>
<li><span class="hljs-inline-prop">transport</span>, <span class="hljs-inline-type hljs-linkable"><span class="hljs-inline-type hljs-linkable">object</span></span>. SMTP settings object: <span class="hljs-inline-prop">host</span>, <span class="hljs-inline-prop">port</span>, <span class="hljs-inline-prop">secure</span>, <span class="hljs-inline-prop">auth</span>.</li>
</ul><p>If you are using secure connection, set <span class="hljs-inline-prop">mail.transport.secure</span> to <span class="hljs-literal">true</span> and <span class="hljs-inline-prop">mail.transport.port</span> to <span class="hljs-number">465</span>, unless you are running SMTP server on a different port.</p><p>If you are running Iconify API on multiple servers, use different subjects in <span class="hljs-inline-prop">mail.subject</span> for different servers to identify which server email came from.</p><section class="content-section content-section--3"><H1 id="throttling-emails" class="heading--3">Throttling emails <a href="#throttling-emails" class="link-back" title="Link to this section"><span class="iconify" data-icon="line-md:hash-small"></span></a></H1><p>Option <span class="hljs-inline-prop">mail.throttle</span> prevents API from sending too many emails. Default value is <span class="hljs-number">30</span> seconds. All error messages within <span class="hljs-number">30</span> seconds will be combined to one email instead of sending multiple emails.</p><p>Option <span class="hljs-inline-prop">mail.repeat</span> prevents script from sending similar errors too often. Value is the number of minutes. Default value is <span class="hljs-number">180</span> (3 hours).</p><p>Combined, these two options prevent API from flooding your inbox when something happens.</p></section></section>











				</article>
				<nav
					class="docs-navigation docs-navigation--visible docs-navigation--no-button"
				>
					<div class="docs-navigation-button"></div>
					<div class="docs-navigation-content-wrapper">
						<div class="docs-navigation-content">
							<ul class="docs-navigation-section docs-navigation-section--develop">
	<li class="docs-navigation-link docs-navigation-link--0 docs-navigation-link--active docs-navigation-link--toggle"><a href="../../../develop/">For Developers<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--1 docs-navigation-link--active docs-navigation-link--toggle"><a href="../../">Sources<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--2 docs-navigation-link--active docs-navigation-link--toggle"><a href="../">Iconify API<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--3 docs-navigation-link--active docs-navigation-link--toggle"><a href="../hosting.html">Hosting API<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--4"><a href="../hosting-php/">PHP</a></li>
	<li class="docs-navigation-link docs-navigation-link--4 docs-navigation-link--selected docs-navigation-link--active"><a href="./">Node.js</a></li>
	<li class="docs-navigation-link docs-navigation-link--3"><a href="../queries.html">API Queries</a></li>
	<li class="docs-navigation-link docs-navigation-link--2"><a href="../../bundles/">Bundled Icons</a></li>
	<li class="docs-navigation-link docs-navigation-link--2"><a href="../../npm/">Icon Components</a></li>
	<li class="docs-navigation-link docs-navigation-link--2"><a href="../../json/">Iconify Icon Sets</a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../implementations/">Implementations</a></li>
</ul>
<ul class="docs-navigation-section docs-navigation-section--design">
	<li class="docs-navigation-link docs-navigation-link--0 docs-navigation-link--toggle"><a href="../../../design/">For Designers<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../design/figma/">Figma Plug-In</a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../design/sketch/">Sketch Plug-In</a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../design/adobe-xd/">Adobe XD Plug-In</a></li>
</ul>
<ul class="docs-navigation-section docs-navigation-section--integration">
	<li class="docs-navigation-link docs-navigation-link--0 docs-navigation-link--toggle"><a href="../../../icon-finder/">Icon Finder<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../icon-finder/packages/">Packages</a></li>
</ul>
<ul class="docs-navigation-section docs-navigation-section--code">
	<li class="docs-navigation-link docs-navigation-link--0 docs-navigation-link--toggle"><a href="../../../code/">Code<span class="iconify" data-icon="line-md:chevron-small-down"></span></a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../tools/">Development Tools</a></li>
	<li class="docs-navigation-link docs-navigation-link--1"><a href="../../../types/">Iconify Types</a></li>
</ul>

						</div>
					</div>
				</nav>
			</div>
		</div>
		<footer>
			<div class="page-width">
				<ul class="footer-left-side">
					<li>
						<a href="https://iconify.design/" title="Iconify">
							<span class="iconify" data-icon="line-md:home-twotone-alt"></span>
						</a>
					</li>
					<li>
						<a href="https://iconify.design/news/" title="News">
							<span class="iconify" data-icon="line-md:document-list"></span>
						</a>
					</li>
					<li>
						<a href="https://iconify.design/icon-sets/" title="Icons">
							<span class="iconify" data-icon="line-md:image-twotone"></span>
						</a>
					</li>
					<li>
						<a href="../../../" title="Documentation">
							<span class="iconify" data-icon="line-md:document-code"></span>
						</a>
					</li>
					<li>
						<a href="https://github.com/iconify" title="GitHub" target="_blank">
							<span class="iconify" data-icon="line-md:github"></span>
						</a>
					</li>
				</ul>
				<ul class="footer-right-side">
					<li>
						© 2020 Iconify OÜ •
						<a href="https://iconify.design/about/">About Iconify</a>
					</li>
				</ul>
			</div>
		</footer>
		<script src="../../../assets/bundle.js?241e"></script>
		<script src="https://code.iconify.design/2/2.0.0-rc.5/iconify.min.js"></script>
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111712817-1"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-111712817-1'); </script>
	</body>
</html>
